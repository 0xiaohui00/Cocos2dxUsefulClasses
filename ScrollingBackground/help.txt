实现了一个无限滚动背景ScrollingBackground

方向：
支持背景的从上到下，从下到上，从左到右，从右到左四个方向的滚动

模式：
1.先设置数张背景图片，之后无限循环滚动
2.背景边滚动边插入下一张背景


代码示例：
class HelloWorld : public cocos2d::CCLayer
{
public:
    virtual bool init();  


    static cocos2d::CCScene* scene();
    

    void menuCloseCallback(CCObject* pSender);
    void addBgBlock();

    CREATE_FUNC(HelloWorld);

	ScrollingBackground* pBg ;
	bool isScroll;
};


//创建滚动背景的代码片段
pPauseItembool HelloWorld::init()
{
    if ( !CCLayer::init() )
    {
        return false;
    }
    
    CCSize visibleSize = CCDirector::sharedDirector()->getVisibleSize();
    CCPoint origin = CCDirector::sharedDirector()->getVisibleOrigin();

   
    CCMenuItemImage *pPauseItem = CCMenuItemImage::create(
                                        "CloseNormal.png",
                                        "CloseSelected.png",
                                        this,
                                        menu_selector(HelloWorld::pause));
    
    pPauseItem->setPosition(ccp(origin.x + visibleSize.width - pPauseItem->getContentSize().width/2 ,
                                origin.y + pPauseItem->getContentSize().height/2));

    CCMenu* pMenu = CCMenu::create(pPauseItem, NULL);
    pMenu->setPosition(CCPointZero);
    this->addChild(pMenu, 1);

    //创建滚动背景，循环滚动
    pBg = ScrollingBackground::create(ST_ONE_WAY,SD_LEFT_TO_RIGHT,400.0F);
    this->addChild(pBg);

    //加入几个画面
    /*可以这样，甚至在pS上面挂几个节点，随便更改锚点*/
    CCSprite*pS = CCSprite::create("1.png");
    pS->setAnchorPoint(ccp(0.5,0.0));
    pBg->addBackgroundBlock(pS);
    /*也可以这样直接加入*/
    pBg->addBackgroundBlock(CCSprite::create("2.png"));
    pBg->addBackgroundBlock(CCSprite::create("3.png"));
    pBg->addBackgroundBlock(CCSprite::create("4.png"));

    //开始滚动
    pBg->beginScroll();

    //增加一个画面，单选滚动时候起作用
    pBg->setRemoveEventListener(this,removeBgBlockEvent_selector(HelloWorld::addBgBlock));
    
    isScroll = true;
    return true;
}


//增加一个画面，单向滚动时候起作用
void HelloWorld::addBgBlock()
{
    CCSprite*pS = CCSprite::create("1.png");

    pS->setAnchorPoint(ccp(0.5,0.0));
    pBg->addBackgroundBlock(pS);
}



void HelloWorld::pause(CCObject* pSender)
{
    if(isScroll)
    {
        pBg->pauseScroll();
        isScroll = false;
    }
    else
    {
        pBg->resumeScroll();
        isScroll = true;
    }
}
